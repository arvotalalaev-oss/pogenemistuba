<script>
  // DEBUG PATCH — temporary. Paste at top of your <script> while debugging.
  // 1) Disable background spawn and animations
  document.addEventListener('DOMContentLoaded', () => {
    // Force wrap to be visible even if some CSS/JS misbehaves
    const wrap = document.getElementById('wrap');
    if(wrap){
      wrap.style.zIndex = 9999;
      wrap.style.background = '#111';
      wrap.style.padding = '18px';
      wrap.style.border = '2px solid #444';
    }

    // Show a debug banner so we can see the DOM is alive
    const debug = document.createElement('div');
    debug.textContent = 'DEBUG: page loaded — content should appear below';
    debug.style.width = '100%';
    debug.style.textAlign = 'center';
    debug.style.fontSize = '18px';
    debug.style.padding = '10px';
    debug.style.background = '#222';
    debug.style.color = '#fff';
    debug.style.borderRadius = '8px';
    debug.style.marginBottom = '12px';
    wrap.parentNode.insertBefore(debug, wrap);

    // Stop service-worker registration while debugging
    if ('serviceWorker' in navigator){
      // do nothing; block registration by preventing the call below
      console.warn('Service worker registration TEMPORARILY disabled for debugging');
    }

    // If the pages didn't render, append a plainly visible page
    if (!wrap.querySelector('.page')) {
      const p = document.createElement('div');
      p.className = 'page';
      p.style.display = 'block';
      p.innerHTML = '<div style="padding:20px;color:#fff;background:#000;border-radius:8px">Fallback page — if you see this, the DOM is working.</div>';
      wrap.appendChild(p);
    }
  });

  // Also prevent spawnBackground from running (comment it out or override)
  window.spawnBackground = function() { console.log('spawnBackground suppressed for debug'); };
</script>
